"0",""
"0",""
"0","file.remove(dir(here(""Simulated/For Loop/Stimuli/Afternoon""), pattern = "".wav"", full.names = TRUE))"
"1"," [1]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[24]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[47]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[70]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[93]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"0","file.remove(dir(here(""Simulated/For Loop/Stimuli/Dawn""), pattern = "".wav"", full.names = TRUE))"
"1"," [1]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[24]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[47]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[70]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"0","file.remove(dir(here(""Simulated/For Loop/StimLists/StimTracks""), pattern = "".wav"", full.names = TRUE))"
"1"," [1]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[24]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[47]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"0","file.remove(dir(here(""Simulated/For Loop/Stimuli/StimLists""), pattern = "".txt"", full.names = TRUE))"
"1","logical(0)
"
"0","for (participant in 1:nrow(Participants)) {"
"0","  "
"0","  Bird <- Participants$BirdID[participant]"
"0","  `Trial Type` <- Participants$TrialType[participant]"
"0","  "
"0","  Songs <- "
"0","    as.data.frame(dir(here(""Simulated/Stimuli-Shared/Source Files""), pattern = "".wav"")) %>%"
"0","      setNames(""SongData"") %>%                                                                #Set our column name"
"0","      transmute(SongData = str_replace_all(SongData, "".wav"", """")) %>%                          #Delete "".wav"""
"0","        separate(SongData, into = c(""SongNum"", ""SongType""), sep = ""-"", remove = FALSE) %>%  #Separate into two new columns"
"0","          subset(SongType == ""Control"") %>%                                                 #Subset to only controls"
"0","            sample_n(3) %>%                                                                 #sample(), but for a dataframe"
"0","              mutate(Speed = as.vector(sample(c(""Control"", ""Fast"", ""Slow""), 3))) %>%    #New column speeds "
"0","                unite(SongData, c(""SongNum"", ""Speed""), sep = ""-"", remove = FALSE) %>%      #Unite into a new column"
"0","                  dplyr::select(-SongType) %>%  #Get rid of a useless column"
"0","                    mutate(SongSel = c(""1"", ""1"", ""1"")) %>%                   #Adding a songsel column we'll use later"
"0","                      mutate(SongSel = paste(`Trial Type`, .$SongSel, sep=""""))  %>%"
"0","                        mutate(SongPath = paste(here(""Simulated/For Loop/Stimuli""), ""/"", `Trial Type`, ""/"","
"0","                                 SongData, sep = """" )) %>%"
"0","                         mutate(SongPath2 = paste(SongPath, ""-"", SongSel, ""-"", ""Silent.wav"", sep = """")) "
"0","  "
"0","  file.copy(from = here(""Simulated/Stimuli-Shared/Source Files"", paste(Songs$SongData, "".wav"", sep = """")) ,"
"0","          to =  here(""Simulated/For Loop/Stimuli"", paste(""/"", `Trial Type`, ""/"", Songs$SongData, "".wav"", sep = """"))       )"
"0","  "
"0","  SongsList <- "
"0","    Songs %>%"
"0","    rep_sample_n(size = 3, reps = 10) %>%"
"0","      ungroup() %>%"
"0","        data.frame() %>%"
"0","           mutate(Duration = lapply(lapply(paste(SongPath, "".wav"", sep=""""), load.wave), duration)) %>% #WOAH!"
"0","            mutate(Duration = unlist(Duration)) %>%"
"0","              mutate(`End Time (s)` = cumsum(Duration + 10)) %>%"
"0","                mutate(`Begin Time (s)` = `End Time (s)` - Duration ) %>%"
"0","                  mutate(Selection = 1:30) %>%"
"0","                  mutate(View = ""Waveform 1"") %>%"
"0","                  mutate(Channel = 1) %>%"
"0","                  mutate(`Low Freq (Hz)` = 1) %>%"
"0","                  mutate(`High Freq (Hz)` = 1) %>%"
"0","                  mutate(Bird = Participants$BirdID[5]) %>%"
"0","                  mutate(`Trial Type` = `Trial Type`) %>%"
"0","                  mutate(`Signal Type` = ""S"") %>%"
"0","                  mutate(`Stim Type` = Speed) %>%"
"0","                  mutate(Response = """") %>%"
"0","                  mutate(Overlapping = """") %>%"
"0","                  mutate(Notes = """") %>%"
"0","                  mutate(Duration = Duration) %>%"
"0","                    subset(select = c(""Selection"", ""View"", ""Channel"", ""Begin Time (s)"", ""End Time (s)"", "
"0","                                    ""Low Freq (Hz)"", ""High Freq (Hz)"", ""Bird"", ""Trial Type"", "
"0","                                    ""Signal Type"", ""Stim Type"", ""Response"", ""Overlapping"", ""Notes"", "
"0","                                    ""SongNum"", ""SongSel"", ""Duration"", ""SongPath"", ""SongPath2"")) "
"0",""
"0","  for (song in 1:nrow(Songs)) {"
"0","    SongPath1 <- paste(Songs$SongPath[song], "".wav"", sep = """")"
"0","    SongPath2 <- Songs$SongPath2[song]"
"0","    "
"0","    SongPath1 %>%"
"0","      load.wave() %>%"
"0","        addsilw(at = ""start"", d= 10, output = ""audioSample"") %>%"
"0","          save.wave(where = SongPath2)"
"0","  }"
"0","  "
"0","as.list(SongsList$SongPath2) %>%"
"0","  do.call(appendSample, .) %>%"
"0","    saveSample(filename = here(""Simulated/For Loop/StimLists/StimTracks"", "
"0","                               paste(""/"", Bird, ""-"", `Trial Type`, ""-Stimtrack.wav"", sep = """")))"
"0",""
"0","SongsList %>%"
"0","  mutate(View = ""Spectrogram 1"") %>%"
"0","      interleave(SongsList, .) %>%"
"0","        write.csv(file = here(""/Simulated/For Loop/StimLists"", "
"0","          paste(""/"", Bird, ""-"", `Trial Type`, ""-Stimtrack.txt"", sep = """")))"
"0","                                                                   "
"0","}"
